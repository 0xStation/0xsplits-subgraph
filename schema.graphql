type Split @entity {
  id: ID!
  distributorFee: BigInt!
  totalEthDistributed: BigInt!
  totalEthClaimed: BigInt!

  # can't use derived relations inside mapping.ts
  # recipients: [SplitRecipient!]! @derivedFrom(field: "split")
  recipients: [SplitRecipient!]!
}

type SplitRecipient @entity {
  id: ID!
  split: Split!
  recipient: Recipient!
  allocation: BigInt!
  totalEthDistributed: BigInt!
  totalEthClaimed: BigInt!
}

type Recipient @entity {
  id: ID!
  totalEthClaimed: BigInt!

  # can't use derived relations inside mapping.ts
  # splits: [SplitRecipient!]! @derivedFrom(field: "split")
  splits: [SplitRecipient!]!
}
